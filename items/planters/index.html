<!DOCTYPE HTML>
<html lang="en" style="background: #121212; overflow-y: scroll;">
<head>
    <meta charset="UTF-8">
    <title>Image Selector</title>
    <style>
        body {
            margin: 0;
            color: #E0E0E0;
            font-family: Verdana, Geneva, sans-serif;
            text-align: center;
            font-size: 0;
        }

        div {
            margin: 10px;
            padding: 10px;
        }

        #outer {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 16px;
            margin: 0;
            padding: 0;
        }
        #options {
            display: flex;
            flex-direction: row;
            justify-content: center;
            margin: 0;
        }
        .button_group {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            align-content: flex-start;
        }
        .button {
            background-color: #333333;
            border-radius: 4px;
            padding: 10px;
            margin: 5px;
            color: #E0E0E0;
            cursor: pointer;
            border: none;
            user-select: none;
        }
        .button:hover {
            background-color: #424242;
        }
        .selected {
            background-color: #616161;
        }
        #images {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 0;
        }
        img {
            margin: 10px;
            width: auto;
            height: auto;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        #select_all_clear_container {
            margin: 0;
        }
        .clear-button, .select-all-button {
            background-color: #333333;
            border-radius: 4px;
            padding: 10px;
            margin: 10px;
            margin-bottom: -10px;
            color: #E0E0E0;
            cursor: pointer;
            border: none;
            font-weight: bold;
        }
        .clear-button:hover, .select-all-button:hover {
            background-color: #424242;
        }
    </style>
</head>
<body>

<div id="outer">
    <div id="select_all_clear_container">
        <button class="clear-button" onclick="clearSelections()">Clear</button>
        <button class="select-all-button" onclick="selectAll()">Select All</button>
    </div>
    <div id="options">
        <div class="button_group" id="button_group_1"></div>
        <div class="button_group" id="button_group_2"></div>
        <div class="button_group" id="button_group_3"></div>
    </div>
    <div id="images"></div>
</div>

<script>
    const planters = `
brick
clay
marble
pottery
sandstone
slate
stone

applewood
birchwood
cedarwood
cherrywood
chestnut
firwood
lemonwood
lindenwood
maplewood
oakenwood
olivewood
orangewood
pinewood
walnut
willow

blueberrywood
raspberrywood
grapewood
hazelnutwood
thorn
oleanderwood
lavenderwood
camelliawood
rosewood
lingonberrywood
`.trim().split('\n\n');

    const buttonGroups = [
        document.getElementById('button_group_1'),
        document.getElementById('button_group_2'),
        document.getElementById('button_group_3')
    ];

    let groupIndex = 0;
    planters.forEach(group => {
        group.split('\n').forEach((planter, index) => {
            const planterName = planter.trim();
            const planterNameTitleCase = planterName.charAt(0).toUpperCase() + planterName.slice(1).replace(/wood$/, '');
            const button = document.createElement('div');
            button.className = 'button';
            button.dataset.image = `imgs/${String(groupIndex * 11 + index).padStart(2, '0')}_tree_planter_${planterName}.png`;
            button.textContent = planterNameTitleCase;

            buttonGroups[groupIndex].appendChild(button);
        });
        groupIndex++;
    });

    const options = document.querySelectorAll('.button');
    const imageContainer = document.getElementById('images');
    const selectedImages = new Set();
    let hoverPreview = null;

    options.forEach(option => {
        option.addEventListener('mouseover', () => {
            if (!selectedImages.has(option.dataset.image)) {
                showPreview(option.dataset.image);
            }
        });

        option.addEventListener('mouseout', () => {
            if (hoverPreview) {
                imageContainer.removeChild(hoverPreview);
                hoverPreview = null;
            }
        });

        option.addEventListener('click', () => {
            if (selectedImages.has(option.dataset.image)) {
                selectedImages.delete(option.dataset.image);
                option.classList.remove('selected');
            } else {
                selectedImages.add(option.dataset.image);
                option.classList.add('selected');
            }
            updateSelectedImages();
        });
    });

    function showPreview(image) {
        if (hoverPreview) {
            imageContainer.removeChild(hoverPreview);
        }
        hoverPreview = document.createElement('img');
        hoverPreview.src = image;
        hoverPreview.style.width = '390px';
        hoverPreview.style.opacity = '0.5';
        imageContainer.appendChild(hoverPreview);
    }

    function updateSelectedImages() {
        imageContainer.innerHTML = '';
        const width = imageContainer.clientWidth;
        const height = imageContainer.clientHeight;
        const aspectRatio = 1296 / 681;
        const imgWidth = Math.min(width, aspectRatio * height) / Math.max(selectedImages.size, 1);
        selectedImages.forEach(image => {
            const img = document.createElement('img');
            img.src = image;
            img.style.width = '390px';
            imageContainer.appendChild(img);
        });
    }

    function clearSelections() {
        selectedImages.clear();
        options.forEach(option => option.classList.remove('selected'));
        updateSelectedImages();
    }
    function selectAll() {
        options.forEach(option => {
            selectedImages.add(option.dataset.image);
            option.classList.add('selected');
        });
        updateSelectedImages();
    }
</script>

</body>
</html>
